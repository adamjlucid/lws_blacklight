<div id="content" class="span12">
  <div class="page-header">
    <h1><%= t('blacklight.saved_searches.title') %></h1>
  </div>
  <%- if current_or_guest_user.blank? -%>
    <div class="alert"><%= t('blacklight.saved_searches.need_login') %></div>
  <%- elsif @searches.blank? -%>
    <div class="alert alert-info"><%= t('blacklight.saved_searches.no_searches') %></div>
  <%- else -%>
    <div class="row">
      <div class="span10">
        <h3><%= t('blacklight.saved_searches.list_title') %></h3>
      </div>
      <div class="span2">
        <div class="btn-group table-options">
          <%= link_to t('blacklight.saved_searches.clear.action_title'), clear_saved_searches_path, :method => :delete, :data => { :confirm => t('blacklight.saved_searches.clear.action_confirm') }, :class => 'btn btn-clear-saved-searches' %>
        </div>
      </div>
    </div>
    
    <table class="table table-striped">
      <%- @searches.each do |search| -%>
        <tr>
          <td class="query"><%= link_to_previous_search(search.query_params) %></td>
          <td class="actions"><%= button_to t('blacklight.saved_searches.delete'), forget_search_path(search.id), :class => 'btn' %></td>
        </tr>
      <%- end -%>
    </table>
  <%- end -%>
</div>
